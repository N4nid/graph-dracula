<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-04-24 Do 22:03 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EquationParser</title>
<meta name="generator" content="Org Mode" />
<link rel='stylesheet' href='/style.css'>

    <div id='navbar' class='nav center'>
      <a href='/index.html'>[home]</a>
      <a href='/about.html'>[about]</a>
      <a href='/sitemap.html'>[sitemap]</a>
    </div>
</head>
<body>
<div id="content" class="content">
<h1 class="title">EquationParser</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgcdca1a5">1. Variables</a>
<ul>
<li><a href="#orgaca12f6">1.1. debug:</a></li>
<li><a href="#org895c6f4">1.2. name:</a></li>
<li><a href="#org534276f">1.3. isFunction:</a></li>
<li><a href="#org6f6b330">1.4. isParametic:</a></li>
<li><a href="#org6c98846">1.5. parametricParsing:</a></li>
<li><a href="#org3fc7114">1.6. parseBetweenBrackets:</a></li>
<li><a href="#orgbe4a2a3">1.7. controller:</a></li>
<li><a href="#org6acdfa7">1.8. oldVarCache:</a></li>
<li><a href="#org939eca5">1.9. bracketID:</a></li>
<li><a href="#orga7aa73e">1.10. numID:</a></li>
<li><a href="#org86dab15">1.11. varID:</a></li>
<li><a href="#org5117391">1.12. operatorID:</a></li>
<li><a href="#orgf2501bf">1.13. specialFuncID:</a></li>
<li><a href="#orgf32027a">1.14. functionID:</a></li>
<li><a href="#orga0a90b5">1.15. parametricID:</a></li>
<li><a href="#org0e5c036">1.16. specialOpID:</a></li>
</ul>
</li>
<li><a href="#orgd4377f5">2. Methods</a>
<ul>
<li><a href="#org603d817">2.1. transformString():</a></li>
<li><a href="#org63df55b">2.2. replaceConstants():</a></li>
<li><a href="#org41f2868">2.3. parseString():</a></li>
<li><a href="#org8da6bcb">2.4. parseParametics():</a></li>
<li><a href="#org2a003bf">2.5. parseEquation():</a></li>
<li><a href="#orgb75660f">2.6. discardVars():</a></li>
<li><a href="#org9408803">2.7. handleAdvancedInput():</a></li>
<li><a href="#orgadbb8b0">2.8. checkIfFunction():</a></li>
<li><a href="#orgd41fdbe">2.9. getBetweenBrackets():</a></li>
<li><a href="#org65f46b8">2.10. getValuesInBrackets():</a></li>
<li><a href="#org61a7505">2.11. addBelow():</a></li>
<li><a href="#orgb093412">2.12. getNextNode():</a></li>
<li><a href="#org9c5786a">2.13. getOpLevel():</a></li>
<li><a href="#orgfb00f9a">2.14. getState():</a></li>
<li><a href="#org920a306">2.15. testParser():</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgcdca1a5" class="outline-2">
<h2 id="orgcdca1a5"><span class="section-number-2">1.</span> Variables</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgaca12f6" class="outline-3">
<h3 id="orgaca12f6"><span class="section-number-3">1.1.</span> debug:</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Toggles all the debug prints.
</p>
</div>
</div>
<div id="outline-container-org895c6f4" class="outline-3">
<h3 id="org895c6f4"><span class="section-number-3">1.2.</span> name:</h3>
<div class="outline-text-3" id="text-1-2">
<p>
The name of the function.
</p>
</div>
</div>
<div id="outline-container-org534276f" class="outline-3">
<h3 id="org534276f"><span class="section-number-3">1.3.</span> isFunction:</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Whether it is a function or not.
If it is a function it will be rendered by the FunctionRenderer.
</p>
</div>
</div>
<div id="outline-container-org6f6b330" class="outline-3">
<h3 id="org6f6b330"><span class="section-number-3">1.4.</span> isParametic:</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Whether it is parametric or not.
If it is a parametric function it will be rendered by the ParametricRenderer.
</p>
</div>
</div>
<div id="outline-container-org6c98846" class="outline-3">
<h3 id="org6c98846"><span class="section-number-3">1.5.</span> parametricParsing:</h3>
<div class="outline-text-3" id="text-1-5">
<p>
Flag used when parsing parametric functions to enable different handeling of things.
<b>For example:</b> When enabled a variable with the name &ldquo;t&rdquo; will not be added to the variable list.
</p>
</div>
</div>
<div id="outline-container-org3fc7114" class="outline-3">
<h3 id="org3fc7114"><span class="section-number-3">1.6.</span> parseBetweenBrackets:</h3>
<div class="outline-text-3" id="text-1-6">
<p>
Flag used when parsing between brackets to skip some of the transforming in <a href="#org603d817">2.1</a>.
</p>
</div>
</div>
<div id="outline-container-orgbe4a2a3" class="outline-3">
<h3 id="orgbe4a2a3"><span class="section-number-3">1.7.</span> controller:</h3>
<div class="outline-text-3" id="text-1-7">
<p>
The ApplicationController used by many methods.
Mainly for handeling variables but also for parsing ConditionNodes.
</p>
</div>
</div>
<div id="outline-container-org6acdfa7" class="outline-3">
<h3 id="org6acdfa7"><span class="section-number-3">1.8.</span> oldVarCache:</h3>
<div class="outline-text-3" id="text-1-8">
<p>
Serves as a backup of the variable list.
With this it is possible to revert to the state before adding variables through invalid input.
</p>
</div>
</div>
<div id="outline-container-org939eca5" class="outline-3">
<h3 id="org939eca5"><span class="section-number-3">1.9.</span> bracketID:</h3>
<div class="outline-text-3" id="text-1-9">
<p>
The magic number representing the state for said element.
</p>
</div>
</div>
<div id="outline-container-orga7aa73e" class="outline-3">
<h3 id="orga7aa73e"><span class="section-number-3">1.10.</span> numID:</h3>
<div class="outline-text-3" id="text-1-10">
<p>
The magic number representing the state for said element.
</p>
</div>
</div>
<div id="outline-container-org86dab15" class="outline-3">
<h3 id="org86dab15"><span class="section-number-3">1.11.</span> varID:</h3>
<div class="outline-text-3" id="text-1-11">
<p>
The magic number representing the state for said element.
</p>
</div>
</div>
<div id="outline-container-org5117391" class="outline-3">
<h3 id="org5117391"><span class="section-number-3">1.12.</span> operatorID:</h3>
<div class="outline-text-3" id="text-1-12">
<p>
The magic number representing the state for said element.
</p>
</div>
</div>
<div id="outline-container-orgf2501bf" class="outline-3">
<h3 id="orgf2501bf"><span class="section-number-3">1.13.</span> specialFuncID:</h3>
<div class="outline-text-3" id="text-1-13">
<p>
The magic number representing the state for said element.
</p>
</div>
</div>
<div id="outline-container-orgf32027a" class="outline-3">
<h3 id="orgf32027a"><span class="section-number-3">1.14.</span> functionID:</h3>
<div class="outline-text-3" id="text-1-14">
<p>
The magic number representing the state for said element.
</p>
</div>
</div>
<div id="outline-container-orga0a90b5" class="outline-3">
<h3 id="orga0a90b5"><span class="section-number-3">1.15.</span> parametricID:</h3>
<div class="outline-text-3" id="text-1-15">
<p>
The magic number representing the state for said element.
</p>
</div>
</div>
<div id="outline-container-org0e5c036" class="outline-3">
<h3 id="org0e5c036"><span class="section-number-3">1.16.</span> specialOpID:</h3>
<div class="outline-text-3" id="text-1-16">
<p>
The magic number representing the state for said element.
</p>
<hr />
</div>
</div>
</div>
<div id="outline-container-orgd4377f5" class="outline-2">
<h2 id="orgd4377f5"><span class="section-number-2">2.</span> Methods</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org603d817" class="outline-3">
<h3 id="org603d817"><span class="section-number-3">2.1.</span> transformString():</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Method for the following things:
</p>
<ul class="org-ul">
<li>sanitizing the string.</li>
<li>replacing all constants with their number.</li>
<li>adding the unwritten multiplikation between brackets
for example: &ldquo;(2x)(x-1)&rdquo; -&gt; &ldquo;(2x)*(x-1)&rdquo;</li>
<li>moving the condition to the back
for example: &ldquo;if(x&lt;0) x<sup>2</sup>&rdquo; -&gt; &ldquo;x<sup>2</sup> if(x&lt;0)&rdquo;</li>
<li>transforming for the different equation types and setting <a href="#org534276f">1.3</a> and <a href="#org895c6f4">1.2</a></li>
</ul>

<p>
<b>Examples:</b>
</p>
<ul class="org-ul">
<li>f(x)=x<sup>2</sup> -&gt; x<sup>2</sup></li>
<li>y=2x -&gt; 2x</li>
<li>x<sup>2</sup>-y<sup>2</sup>=9 -&gt; 9-(x<sup>2</sup>-y<sup>2</sup>)</li>
<li>sin(2e) + 2 -&gt; sin(2(1.6180339887498948))+2</li>
</ul>
</div>
</div>
<div id="outline-container-org63df55b" class="outline-3">
<h3 id="org63df55b"><span class="section-number-3">2.2.</span> replaceConstants():</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Method for replacing constants in a string with their number counterpart.
</p>
</div>
</div>
<div id="outline-container-org41f2868" class="outline-3">
<h3 id="org41f2868"><span class="section-number-3">2.3.</span> parseString():</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Given a string it will decide wheter to call <a href="#org2a003bf">2.5</a> or <a href="#org8da6bcb">2.4</a>
</p>

<p>
There also is another overloaded version which handles given functions.
</p>
</div>
</div>
<div id="outline-container-org8da6bcb" class="outline-3">
<h3 id="org8da6bcb"><span class="section-number-3">2.4.</span> parseParametics():</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Method for parsing parametric functions.
They have the following form: &ldquo;f(t-&gt;xy):x=(t);y=(t);for(a&lt;t&lt;b)&rdquo;.
</p>
</div>
</div>
<div id="outline-container-org2a003bf" class="outline-3">
<h3 id="org2a003bf"><span class="section-number-3">2.5.</span> parseEquation():</h3>
<div class="outline-text-3" id="text-2-5">
<p>
Given a string and ApplicationController it builds the <a href="./../EquationTree/EquationTree.html">EquationTree</a> by adding the nodes extracted by <a href="#orgb093412">2.12</a>.
</p>
</div>
</div>
<div id="outline-container-orgb75660f" class="outline-3">
<h3 id="orgb75660f"><span class="section-number-3">2.6.</span> discardVars():</h3>
<div class="outline-text-3" id="text-2-6">
<p>
Method for removing all the variables added by invalid input.
</p>

<p>
Since when parsing it is only checked at the end if the resulting <a href="./../EquationTree/EquationTree.html">EquationTree</a> is valid.
And it would be annoying if one would have to manually remove all the variables added in this process.
</p>
</div>
</div>
<div id="outline-container-org9408803" class="outline-3">
<h3 id="org9408803"><span class="section-number-3">2.7.</span> handleAdvancedInput():</h3>
<div class="outline-text-3" id="text-2-7">
<p>
To handle unwritten multiplikation and to the power of negativ numbers.
</p>

<p>
<b>For example:</b>
</p>
<ul class="org-ul">
<li>2(x<sup>2</sup>) -&gt; 2*(x<sup>2</sup>)</li>
<li>3x -&gt; 3*x</li>
<li>xsin(x) -&gt; x*sin(x)</li>
<li>x<sup>-2</sup> -&gt; x<sup>(-2)</sup></li>
</ul>
</div>
</div>
<div id="outline-container-orgadbb8b0" class="outline-3">
<h3 id="orgadbb8b0"><span class="section-number-3">2.8.</span> checkIfFunction():</h3>
<div class="outline-text-3" id="text-2-8">
<p>
Method to check wheter a given string is a function or not.
It also sets the name if it is in the form of &ldquo;*(x)&rdquo;.
</p>

<p>
<b>For example:</b>
</p>
<ul class="org-ul">
<li>y=x -&gt; is a function</li>
<li>z(x)=x<sup>2</sup> is a function (name: z)</li>
<li>wow(x)=x is not a function</li>
</ul>
</div>
</div>
<div id="outline-container-orgd41fdbe" class="outline-3">
<h3 id="orgd41fdbe"><span class="section-number-3">2.9.</span> getBetweenBrackets():</h3>
<div class="outline-text-3" id="text-2-9">
<p>
Method for getting the string between brackets.
</p>

<p>
<b>For example:</b>
&ldquo;(sin(x)+2)&rdquo; -&gt; &ldquo;sin(x)+2&rdquo;
</p>
</div>
</div>
<div id="outline-container-org65f46b8" class="outline-3">
<h3 id="org65f46b8"><span class="section-number-3">2.10.</span> getValuesInBrackets():</h3>
<div class="outline-text-3" id="text-2-10">
<p>
Method for getting the values seperated by comma between brackets.
Used for special Operators (log, root)
</p>

<p>
<b>For example:</b>
&ldquo;root(2,root(2,x))&rdquo; -&gt; {&ldquo;2&rdquo;,&ldquo;root(2,x)&rdquo;}
</p>
</div>
</div>
<div id="outline-container-org61a7505" class="outline-3">
<h3 id="org61a7505"><span class="section-number-3">2.11.</span> addBelow():</h3>
<div class="outline-text-3" id="text-2-11">
<p>
Given two nodes, add the one right below the other.
</p>
</div>
</div>
<div id="outline-container-orgb093412" class="outline-3">
<h3 id="orgb093412"><span class="section-number-3">2.12.</span> getNextNode():</h3>
<div class="outline-text-3" id="text-2-12">
<p>
This method can be seen as the one doing the parsing.
</p>

<p>
Given a StringBuffer it returns either the next node or null if no valid node could be found.
The advantage of using a StringBuffer is, that it can be manipulated by reference, so that the used part can be removed as it should not be parsed again.
</p>
</div>
</div>
<div id="outline-container-org9c5786a" class="outline-3">
<h3 id="org9c5786a"><span class="section-number-3">2.13.</span> getOpLevel():</h3>
<div class="outline-text-3" id="text-2-13">
<p>
Method for getting the operator level for a given string.
</p>

<p>
The level determines the order of operators.
If the operator will get added above or below another one
See <a href="#org2a003bf">2.5</a> for detail on the tree building
</p>
</div>
</div>
<div id="outline-container-orgfb00f9a" class="outline-3">
<h3 id="orgfb00f9a"><span class="section-number-3">2.14.</span> getState():</h3>
<div class="outline-text-3" id="text-2-14">
<p>
Method for getting the state of a given character.
The state represents what type it is.
</p>
<ul class="org-ul">
<li>&ldquo;.0123456789&rdquo; -&gt; number</li>
<li>&ldquo;+-*/^&rdquo; -&gt; operator</li>
<li>&ldquo;()&rdquo; -&gt; bracket</li>
<li>otherwise it could be a variable or specialFunction</li>
</ul>
</div>
</div>
<div id="outline-container-org920a306" class="outline-3">
<h3 id="org920a306"><span class="section-number-3">2.15.</span> testParser():</h3>
<div class="outline-text-3" id="text-2-15">
<p>
Debug method for testing a lot of inputs.
</p>

<p>
It has 2 arrays. One with the input and one for the value which should be the result of the calculation.
It parses all of the inputs and calculates their result. If the result matches the result it should have it passes the test.
</p>

<p>
This is obviously not 100% representative for correct parsing, but it serves as a quick way of testing if things work at least at a fundamental level.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">last edited: 2025-04-24 Do 22:03</p>
</div>
</body>
</html>
