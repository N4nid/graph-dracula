<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <!-- 2025-04-26 Sa 11:04 -->
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>EquationParser</title>
    <meta name="generator" content="Org Mode" />
  </head>
  <body>
    <div id="content" class="content">
      <h1 class="title">EquationParser</h1>
      <div id="table-of-contents" role="doc-toc">
        <h2>Table of Contents</h2>
        <div id="text-table-of-contents" role="doc-toc">
          <ul>
            <li><a href="#org822d22e">Variables</a>
              <ul>
                <li><a href="#orgf213c86">debug:</a></li>
                <li><a href="#org221eefa">name:</a></li>
                <li><a href="#orgab3d309">isFunction:</a></li>
                <li><a href="#orga160561">isParametic:</a></li>
                <li><a href="#orgd722cdd">parametricParsing:</a></li>
                <li><a href="#org4830264">parametricIntervalParsing:</a></li>
                <li><a href="#orged9b258">parseBetweenBrackets:</a></li>
                <li><a href="#org52bc36e">controller:</a></li>
                <li><a href="#org83ece35">oldVarCache:</a></li>
                <li><a href="#org7edb75d">bracketID:</a></li>
                <li><a href="#orgd244a38">numID:</a></li>
                <li><a href="#orgeb92c40">varID:</a></li>
                <li><a href="#org82f1e64">operatorID:</a></li>
                <li><a href="#orgdb66d43">specialFuncID:</a></li>
                <li><a href="#orgf6e7027">functionID:</a></li>
                <li><a href="#org00f929c">parametricID:</a></li>
                <li><a href="#orga620cdd">specialOpID:</a></li>
              </ul>
            </li>
            <li><a href="#org2fe0427">Methods</a>
              <ul>
                <li><a href="#org0fa5bfd">transformString():</a></li>
                <li><a href="#orgfa03166">replaceConstants():</a></li>
                <li><a href="#orga712823">parseString():</a></li>
                <li><a href="#org6f38446">parseParametics():</a></li>
                <li><a href="#orga6b74b9">parseParametricInterval():</a></li>
                <li><a href="#orgefdee25">parseConditionString():</a></li>
                <li><a href="#org0e8a1e6">parseEquation():</a></li>
                <li><a href="#orgbdf2a13">discardVars():</a></li>
                <li><a href="#org4cac739">handleAdvancedInput():</a></li>
                <li><a href="#orgb376f1e">checkIfFunction():</a></li>
                <li><a href="#org005f608">getBetweenBrackets():</a></li>
                <li><a href="#org395f258">getValuesInBrackets():</a></li>
                <li><a href="#orgd39cf71">addBelow():</a></li>
                <li><a href="#org5768251">getNextNode():</a></li>
                <li><a href="#org3b50363">getOpLevel():</a></li>
                <li><a href="#org9bc8bf6">getState():</a></li>
                <li><a href="#orgd2abe28">testParser():</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
      <div id="outline-container-org822d22e" class="outline-2">
        <h2 id="org822d22e">Variables</h2>
        <div class="outline-text-2" id="text-org822d22e">
        </div>
        <div id="outline-container-orgf213c86" class="outline-3">
          <h3 id="orgf213c86">debug:</h3>
          <div class="outline-text-3" id="text-orgf213c86">
            <p>
              Toggles all the debug prints.
            </p>
          </div>
        </div>
        <div id="outline-container-org221eefa" class="outline-3">
          <h3 id="org221eefa">name:</h3>
          <div class="outline-text-3" id="text-org221eefa">
            <p>
              The name of the function.
            </p>
          </div>
        </div>
        <div id="outline-container-orgab3d309" class="outline-3">
          <h3 id="orgab3d309">isFunction:</h3>
          <div class="outline-text-3" id="text-orgab3d309">
            <p>
              Whether it is a function or not.
              If it is a function it will be rendered by the FunctionRenderer.
            </p>
          </div>
        </div>
        <div id="outline-container-orga160561" class="outline-3">
          <h3 id="orga160561">isParametic:</h3>
          <div class="outline-text-3" id="text-orga160561">
            <p>
              Whether it is parametric or not.
              If it is a parametric function it will be rendered by the ParametricRenderer.
            </p>
          </div>
        </div>
        <div id="outline-container-orgd722cdd" class="outline-3">
          <h3 id="orgd722cdd">parametricParsing:</h3>
          <div class="outline-text-3" id="text-orgd722cdd">
            <p>
              Flag used when parsing parametric functions to enable different handeling of things.
              <b>For example:</b> When enabled a variable with the name &ldquo;t&rdquo; will not be added to the variable list.
            </p>
          </div>
        </div>
        <div id="outline-container-org4830264" class="outline-3">
          <h3 id="org4830264">parametricIntervalParsing:</h3>
          <div class="outline-text-3" id="text-org4830264">
            <p>
              Flag used when <a href="#orga6b74b9">parsing the interval</a> of parametric functions, so that the interval cannot depend on &ldquo;t&rdquo;.
            </p>
          </div>
        </div>
        <div id="outline-container-orged9b258" class="outline-3">
          <h3 id="orged9b258">parseBetweenBrackets:</h3>
          <div class="outline-text-3" id="text-orged9b258">
            <p>
              Flag used when parsing between brackets to skip some of the transforming in <a href="#org0fa5bfd">transformString():</a>.
            </p>
          </div>
        </div>
        <div id="outline-container-org52bc36e" class="outline-3">
          <h3 id="org52bc36e">controller:</h3>
          <div class="outline-text-3" id="text-org52bc36e">
            <p>
              The ApplicationController used by many methods.
              Mainly for handeling variables but also for parsing ConditionNodes.
            </p>
          </div>
        </div>
        <div id="outline-container-org83ece35" class="outline-3">
          <h3 id="org83ece35">oldVarCache:</h3>
          <div class="outline-text-3" id="text-org83ece35">
            <p>
              Serves as a backup of the variable list.
              With this it is possible to revert to the state before adding variables through invalid input.
            </p>
          </div>
        </div>
        <div id="outline-container-org7edb75d" class="outline-3">
          <h3 id="org7edb75d">bracketID:</h3>
          <div class="outline-text-3" id="text-org7edb75d">
            <p>
              The magic number representing the state for said element.
            </p>
          </div>
        </div>
        <div id="outline-container-orgd244a38" class="outline-3">
          <h3 id="orgd244a38">numID:</h3>
          <div class="outline-text-3" id="text-orgd244a38">
            <p>
              The magic number representing the state for said element.
            </p>
          </div>
        </div>
        <div id="outline-container-orgeb92c40" class="outline-3">
          <h3 id="orgeb92c40">varID:</h3>
          <div class="outline-text-3" id="text-orgeb92c40">
            <p>
              The magic number representing the state for said element.
            </p>
          </div>
        </div>
        <div id="outline-container-org82f1e64" class="outline-3">
          <h3 id="org82f1e64">operatorID:</h3>
          <div class="outline-text-3" id="text-org82f1e64">
            <p>
              The magic number representing the state for said element.
            </p>
          </div>
        </div>
        <div id="outline-container-orgdb66d43" class="outline-3">
          <h3 id="orgdb66d43">specialFuncID:</h3>
          <div class="outline-text-3" id="text-orgdb66d43">
            <p>
              The magic number representing the state for said element.
            </p>
          </div>
        </div>
        <div id="outline-container-orgf6e7027" class="outline-3">
          <h3 id="orgf6e7027">functionID:</h3>
          <div class="outline-text-3" id="text-orgf6e7027">
            <p>
              The magic number representing the state for said element.
            </p>
          </div>
        </div>
        <div id="outline-container-org00f929c" class="outline-3">
          <h3 id="org00f929c">parametricID:</h3>
          <div class="outline-text-3" id="text-org00f929c">
            <p>
              The magic number representing the state for said element.
            </p>
          </div>
        </div>
        <div id="outline-container-orga620cdd" class="outline-3">
          <h3 id="orga620cdd">specialOpID:</h3>
          <div class="outline-text-3" id="text-orga620cdd">
            <p>
              The magic number representing the state for said element.
            </p>
            <hr />
          </div>
        </div>
      </div>
      <div id="outline-container-org2fe0427" class="outline-2">
        <h2 id="org2fe0427">Methods</h2>
        <div class="outline-text-2" id="text-org2fe0427">
        </div>
        <div id="outline-container-org0fa5bfd" class="outline-3">
          <h3 id="org0fa5bfd">transformString():</h3>
          <div class="outline-text-3" id="text-org0fa5bfd">
            <p>
              Method for the following things:
            </p>
            <ul class="org-ul">
              <li>sanitizing the string.</li>
              <li>replacing all constants with their number.</li>
              <li>adding the unwritten multiplikation between brackets
                for example: &ldquo;(2x)(x-1)&rdquo; -&gt; &ldquo;(2x)*(x-1)&rdquo;</li>
              <li>moving the condition to the back
                for example: &ldquo;if(x&lt;0) x<sup>2</sup>&rdquo; -&gt; &ldquo;x<sup>2</sup> if(x&lt;0)&rdquo;</li>
              <li>transforming for the different equation types and setting <a href="#orgab3d309">isFunction:</a> and <a href="#org221eefa">name:</a></li>
            </ul>

            <p>
              <b>Examples:</b>
            </p>
            <ul class="org-ul">
              <li>f(x)=x<sup>2</sup> -&gt; x<sup>2</sup></li>
              <li>y=2x -&gt; 2x</li>
              <li>x<sup>2</sup>-y<sup>2</sup>=9 -&gt; 9-(x<sup>2</sup>-y<sup>2</sup>)</li>
              <li>sin(2e) + 2 -&gt; sin(2(1.6180339887498948))+2</li>
            </ul>
          </div>
        </div>
        <div id="outline-container-orgfa03166" class="outline-3">
          <h3 id="orgfa03166">replaceConstants():</h3>
          <div class="outline-text-3" id="text-orgfa03166">
            <p>
              Method for replacing constants in a string with their number counterpart.
            </p>
          </div>
        </div>
        <div id="outline-container-orga712823" class="outline-3">
          <h3 id="orga712823">parseString():</h3>
          <div class="outline-text-3" id="text-orga712823">
            <p>
              Given a string it will decide wheter to call <a href="#org0e8a1e6">parseEquation():</a> or <a href="#org6f38446">parseParametics():</a>
            </p>

            <p>
              There also is another overloaded version which handles given functions.
            </p>
          </div>
        </div>
        <div id="outline-container-org6f38446" class="outline-3">
          <h3 id="org6f38446">parseParametics():</h3>
          <div class="outline-text-3" id="text-org6f38446">
            <p>
              Method for parsing parametric functions.
              They have the following form: &ldquo;f(t-&gt;xy):x=(t);y=(t);for(a&lt;t&lt;b)&rdquo;.
            </p>

            <p>
              <b>Examples:</b>
            </p>
            <ul class="org-ul">
              <li>&ldquo;f(t-&gt;xy):x=(t<sup>2</sup>);y=(t/2);for(a&lt;t&lt;b)&rdquo;</li>
            </ul>

            <div id="org219c996" class="figure">
              <p><img src="./media/parametricEquationTree.jpg" alt="parametricEquationTree.jpg" width="450px" />
              </p>
            </div>
          </div>
        </div>
        <div id="outline-container-orga6b74b9" class="outline-3">
          <h3 id="orga6b74b9">parseParametricInterval():</h3>
          <div class="outline-text-3" id="text-orga6b74b9">
            <p>
              Method that parses a given String, which is part of an parametric interval, and returns the resulting EquationNode.
            </p>
          </div>
        </div>
        <div id="outline-container-orgefdee25" class="outline-3">
          <h3 id="orgefdee25">parseConditionString():</h3>
          <div class="outline-text-3" id="text-orgefdee25">
            <p>
              Wrapper for the ConditionParser, since there have to be additional null checks and some values have to be reset.
            </p>
          </div>
        </div>
        <div id="outline-container-org0e8a1e6" class="outline-3">
          <h3 id="org0e8a1e6">parseEquation():</h3>
          <div class="outline-text-3" id="text-org0e8a1e6">
            <p>
              Given a string and ApplicationController it builds the <a href="./../EquationTree/EquationTree.html">EquationTree</a> by adding the nodes extracted by <a href="#org5768251">getNextNode():</a>.
            </p>

            <p>
              <b>Examples:</b>
            </p>
            <ul class="org-ul">
              <li>&ldquo;2x<sup>2</sup>+(1/2)&rdquo;</li>
            </ul>

            <div id="org018a898" class="figure">
              <p><img src="./media/equationTree1.jpg" alt="equationTree1.jpg" width="250px" />
              </p>
            </div>

            <ul class="org-ul">
              <li>&ldquo;x<sup>2</sup>+y<sup>2</sup>=9&rdquo;</li>
            </ul>

            <div id="org212747c" class="figure">
              <p><img src="./media/equationTree2.jpg" alt="equationTree2.jpg" width="250px" />
              </p>
            </div>
          </div>
        </div>
        <div id="outline-container-orgbdf2a13" class="outline-3">
          <h3 id="orgbdf2a13">discardVars():</h3>
          <div class="outline-text-3" id="text-orgbdf2a13">
            <p>
              Method for removing all the variables added by invalid input.
            </p>

            <p>
              Since when parsing it is only checked at the end if the resulting <a href="./../EquationTree/EquationTree.html">EquationTree</a> is valid.
              And it would be annoying if one would have to manually remove all the variables added in this process.
            </p>
          </div>
        </div>
        <div id="outline-container-org4cac739" class="outline-3">
          <h3 id="org4cac739">handleAdvancedInput():</h3>
          <div class="outline-text-3" id="text-org4cac739">
            <p>
              To handle unwritten multiplikation and to the power of negativ numbers.
            </p>

            <p>
              <b>For example:</b>
            </p>
            <ul class="org-ul">
              <li>2(x<sup>2</sup>) -&gt; 2*(x<sup>2</sup>)</li>
              <li>3x -&gt; 3*x</li>
              <li>xsin(x) -&gt; x*sin(x)</li>
              <li>x<sup>-2</sup> -&gt; x<sup>(-2)</sup></li>
            </ul>
          </div>
        </div>
        <div id="outline-container-orgb376f1e" class="outline-3">
          <h3 id="orgb376f1e">checkIfFunction():</h3>
          <div class="outline-text-3" id="text-orgb376f1e">
            <p>
              Method to check wheter a given string is a function or not.
              It also sets the name if it is in the form of &ldquo;*(x)&rdquo;.
            </p>

            <p>
              <b>For example:</b>
            </p>
            <ul class="org-ul">
              <li>y=x -&gt; is a function</li>
              <li>z(x)=x<sup>2</sup> is a function (name: z)</li>
              <li>wow(x)=x is not a function</li>
            </ul>
          </div>
        </div>
        <div id="outline-container-org005f608" class="outline-3">
          <h3 id="org005f608">getBetweenBrackets():</h3>
          <div class="outline-text-3" id="text-org005f608">
            <p>
              Method for getting the string between brackets.
            </p>

            <p>
              <b>For example:</b>
              &ldquo;(sin(x)+2)&rdquo; -&gt; &ldquo;sin(x)+2&rdquo;
            </p>
          </div>
        </div>
        <div id="outline-container-org395f258" class="outline-3">
          <h3 id="org395f258">getValuesInBrackets():</h3>
          <div class="outline-text-3" id="text-org395f258">
            <p>
              Method for getting the values seperated by comma between brackets.
              Used for special Operators (log, root)
            </p>

            <p>
              <b>For example:</b>
              &ldquo;root(2,root(2,x))&rdquo; -&gt; {&ldquo;2&rdquo;,&ldquo;root(2,x)&rdquo;}
            </p>
          </div>
        </div>
        <div id="outline-container-orgd39cf71" class="outline-3">
          <h3 id="orgd39cf71">addBelow():</h3>
          <div class="outline-text-3" id="text-orgd39cf71">
            <p>
              Given two nodes, add the one right below the other.
            </p>
          </div>
        </div>
        <div id="outline-container-org5768251" class="outline-3">
          <h3 id="org5768251">getNextNode():</h3>
          <div class="outline-text-3" id="text-org5768251">
            <p>
              This method can be seen as the one doing the parsing.
            </p>

            <p>
              Given a StringBuffer it returns either the next node or null if no valid node could be found.
              The advantage of using a StringBuffer is, that it can be manipulated by reference, so that the used part can be removed as it should not be parsed again.
            </p>
          </div>
        </div>
        <div id="outline-container-org3b50363" class="outline-3">
          <h3 id="org3b50363">getOpLevel():</h3>
          <div class="outline-text-3" id="text-org3b50363">
            <p>
              Method for getting the operator level for a given string.
            </p>

            <p>
              The level determines the order of operators.
              If the operator will get added above or below another one
              See <a href="#org0e8a1e6">parseEquation():</a> for detail on the tree building
            </p>
          </div>
        </div>
        <div id="outline-container-org9bc8bf6" class="outline-3">
          <h3 id="org9bc8bf6">getState():</h3>
          <div class="outline-text-3" id="text-org9bc8bf6">
            <p>
              Method for getting the state of a given character.
              The state represents what type it is.
            </p>
            <ul class="org-ul">
              <li>&ldquo;.0123456789&rdquo; -&gt; number</li>
              <li>&ldquo;+-*/^&rdquo; -&gt; operator</li>
              <li>&ldquo;()&rdquo; -&gt; bracket</li>
              <li>otherwise it could be a variable or specialFunction</li>
            </ul>
          </div>
        </div>
        <div id="outline-container-orgd2abe28" class="outline-3">
          <h3 id="orgd2abe28">testParser():</h3>
          <div class="outline-text-3" id="text-orgd2abe28">
            <p>
              Debug method for testing a lot of inputs.
            </p>

            <p>
              It has 2 arrays. One with the input and one for the value which should be the result of the calculation.
              It parses all of the inputs and calculates their result. If the result matches the result it should have it passes the test.
            </p>

            <p>
              This is obviously not 100% representative for correct parsing, but it serves as a quick way of testing if things work at least at a fundamental level.
            </p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
